# Compiler
CC = gcc

# Flags
CFLAGS = -Wall -Werror -Wextra -pedantic

# Source files
SRC = $(wildcard *.c)
# Object files
OBJ = $(SRC:.c=.o)

 # Executable name
NAME = school

 # Program to delete files
RM = rm -f

 # Main rule
all: $(NAME)

 # Compile the executable
$(NAME): $(OBJ)
 	$(CC) $(OBJ) -o $(NAME)

# 	# Compile the source files
 	%.o: %.c
 		$(CC) $(CFLAGS) -c $< -o $@
# Clean the project (delete temporary files and executable)
clean:
	$(RM) *~ $(NAME)

# Delete object files
oclean:
 	$(RM) $(OBJ)

# Delete object files and executable
fclean: clean oclean
# Force recompilation of all source files
re: fclean all

# Prevents make from confusing header file with a target
.PHONY: all clean oclean fclean re

# Check for the header file m.h
ifeq ($(wildcard m.h),)
	$(error Header file m.h is missing!)
endif

